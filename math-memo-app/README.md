# 📱 Math Memo App - 수학 문제 풀이 및 부정행위 탐지 데이터 수집

Vue.js 기반의 태블릿 최적화된 수학 문제 풀이 메모 어플리케이션으로, **부정행위 탐지 모델 학습을 위한 고정밀도 데이터 수집** 기능을 제공합니다.

## 🎯 주요 목적

- 수학 문제 풀이 과정의 자연스러운 필기 패턴 수집
- 치팅/부정행위 탐지를 위한 머신러닝 모델 학습 데이터 생성
- 고정밀도 포인터 데이터 (압력, 기울기, 속도 등) 수집

## ✨ 핵심 기능

### 📝 필기 및 메모
- **PointerEvent API** 기반 고정밀도 입력 처리
- 압력 감지 (Pressure-sensitive) 지원
- 펜 기울기 (Tilt) 및 회전 (Twist) 감지
- 터치/마우스/스타일러스 자동 감지

### 🔍 고급 데이터 수집
- **실시간 스트로크 분석**: 속도, 압력, 거리, 방향
- **행동 패턴 추적**: Undo/Redo, 확대/축소, 포커스 변화
- **Coalesced Events**: 고주파수 이벤트로 정밀한 데이터 수집
- **세션 관리**: 전체 문제 풀이 과정 추적

### 🎨 드로잉 도구
- 펜, 지우개, 손도구 (팬/줌)
- 압축된 색상 팔레트 (4x2 그리드)
- 동적 선 굵기 조절
- 확대/축소 및 캔버스 이동

### 📊 실시간 모니터링
- 수집된 스트로크/이벤트 수 실시간 표시
- 포인터 기능 지원 상태 표시 (압력/기울기/비틀기)
- 세션 통계 실시간 업데이트

### 💾 데이터 내보내기
- **JSON 다운로드**: 모든 수집 데이터를 구조화된 JSON으로 내보내기
- 세션 정보, 기기 정보, 포인터 기능 포함
- 부정행위 탐지 분석에 최적화된 데이터 구조

## 📊 수집 데이터 상세

### 스트로크 레벨 데이터
- 각 펜 스트로크의 모든 포인트 좌표
- **압력 데이터** (0.0-1.0)
- **기울기 데이터** (tiltX, tiltY)
- **회전 데이터** (twist)
- 속도, 가속도, 이동 거리
- 타임스탬프 (고정밀도)

### 행동 패턴 데이터
- 도구 변경 이력
- 실행 취소/다시 실행 횟수
- 확대/축소/이동 패턴
- 창 포커스 변화
- 문제 이미지 참조 패턴

### 기기 환경 데이터
- 포인터 기능 지원 여부
- 화면 크기 및 픽셀 비율
- 플랫폼 정보
- 캔버스 변환 상태

> 📋 자세한 데이터 수집 내용은 [DATA_COLLECTION.md](./DATA_COLLECTION.md)를 참고하세요.

## 🛠 기술 스택

- **Vue.js 3** (Composition API)
- **PointerEvent API** (고정밀도 입력)
- **HTML5 Canvas** (2D 렌더링)
- **Vite** (빌드 도구)
- **Capacitor** (모바일 앱 패키징)

## 🚀 개발 환경 설정

```bash
# 패키지 설치
npm install

# 개발 서버 실행 (http://localhost:3000)
npm run dev

# 프로덕션 빌드
npm run build

# 린트 검사
npm run lint

# 모바일 앱 빌드 (Android)
npm run android

# 모바일 앱 빌드 (iOS)
npm run ios
```

## 📱 지원 플랫폼

### 브라우저
- Chrome/Edge (권장 - 모든 기능 지원)
- Safari (압력 감지 제한적)
- Firefox (기본 기능 지원)

### 디바이스
- **태블릿** (iPad, Galaxy Tab 등) - 최적화됨
- **터치 노트북** (Surface Pro 등)
- **스타일러스 지원 디바이스** (압력/기울기 감지)
- 데스크톱 (마우스 입력)

## 🎯 사용법

### 1. 문제 풀이 시작
1. 사이드바에서 학년/카테고리 선택
2. 문제 선택 (타이머 자동 시작)
3. 필요시 문제 이미지 클릭하여 메모 영역에 추가

### 2. 메모 작성
- **펜 도구**: 일반 필기
- **지우개**: 부분 지우기
- **손 도구**: 캔버스 이동/이미지 드래그
- 색상 및 선 굵기 조절

### 3. 데이터 수집 모니터링
- 툴바에서 실시간 수집 상태 확인
- 압력/기울기/비틀기 지원 여부 확인
- 스트로크 및 이벤트 수 모니터링

### 4. 데이터 다운로드
- 우측 "JSON 다운로드" 버튼 클릭
- 세션 ID와 타임스탬프가 포함된 파일명으로 저장
- 분석 도구로 바로 연동 가능

## 🔬 부정행위 탐지 활용

### 분석 가능한 패턴
- **필기 자연스러움**: 압력 변화, 속도 일관성
- **사고 과정**: 스트로크 간 휴지 시간
- **집중도**: 포커스 변화, 화면 조작 패턴
- **편집 행위**: 과도한 수정, 비정상적 패턴

### 이상 징후 탐지
- 기계적/일정한 입력 패턴
- 비정상적으로 빠른 작성 속도
- 불규칙한 포커스 이탈
- 외부 도구 사용 의심 패턴

## 🔒 개인정보 보호

- ✅ 개인 식별 정보 수집 안 함
- ✅ 실제 답안 내용 수집 안 함
- ✅ 랜덤 세션 ID 사용
- ✅ 상대 시간 기준 데이터 수집
- ✅ 로컬 처리, 선택적 다운로드

## 📄 라이선스

MIT License - 교육 및 연구 목적으로 자유롭게 사용 가능